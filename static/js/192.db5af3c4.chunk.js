"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[192],{9192:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(9439),a=n(9434),o=n(4165),c=n(5861),s=n(719),i=n(1267),u=n(4227),l=n(6351),d=n(1830),f=n.n(d),m=n(184),x=function(e){var t=e.contact,n=t.id,r=t.name,d=t.number,x=(0,a.v9)(l.xU),h=(0,a.v9)(l.Uv),p=(0,a.I0)(),v=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f().fire({icon:"warning",title:"Are you sure?",text:"You are about to delete ".concat(r),showCancelButton:!0,confirmButtonText:"Delete ".concat(r),confirmButtonColor:"red"});case 3:if(!e.sent.isConfirmed){e.next=15;break}return e.next=7,p((0,u.ku)(n));case 7:return e.next=9,p((0,u.m$)());case 9:if(!h){e.next=14;break}return f().fire({title:"Error!",text:"".concat(h),icon:"error",confirmButtonColor:"#4289fe"}),e.abrupt("return");case 14:f().fire({title:"".concat(r," has been deleted!"),icon:"success",confirmButtonColor:"#4289fe"});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();return(0,m.jsxs)(i.lh,{children:[(0,m.jsx)(i.VG,{children:r}),(0,m.jsxs)(i.rZ,{children:[(0,m.jsxs)(i.Zj,{href:"tel:".concat(d),children:[(0,m.jsx)(s.a54,{color:"rgba(66, 137, 254, 255)"}),d]}),(0,m.jsx)(s.SW4,{type:"button",name:"delete",value:n,onClick:v,disabled:x,cursor:"pointer",color:"red"})]})]})},h=n(2791),p=function(){var e=(0,a.v9)(l.hF),t=(0,a.I0)();return(0,h.useEffect)((function(){t((0,u.m$)())}),[t]),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(i.aV,{children:e.length?e.map((function(e){var t=e.id,n=e.name,r=e.number;return(0,m.jsx)(x,{contact:{id:t,name:n,number:r}},t)})):(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(i.kI,{children:"No contacts"})})})})},v=n(5145),j=function(){var e=(0,a.v9)(l.AD),t=(0,a.I0)();return(0,m.jsx)(i.HS,{type:"text",name:"filter",placeholder:"Search contacts by name",value:e,onChange:function(e){t((0,v.T)(e.target.value))}})},b=n(4164);function C(e){var t=e.onClose,n=(0,h.useState)(""),s=(0,r.Z)(n,2),d=s[0],x=s[1],p=(0,h.useState)(""),v=(0,r.Z)(p,2),j=v[0],b=v[1],C=(0,a.v9)(l.Af),g=(0,a.v9)(l.Uv),k=(0,a.I0)(),Z=function(e){var t=e.target,n=t.value;"name"===t.name?x(n):b(n)},w=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(n){var r,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=d.toLowerCase().trim(),!C.find((function(e){return e.name.toLowerCase().trim()===r}))){e.next=7;break}return f().fire({icon:"info",title:"".concat(d," is already in contacts"),confirmButtonColor:"#4289fe"}),e.abrupt("return");case 7:return a={name:d,number:j},t(),e.next=11,k((0,u.G3)(a));case 11:return e.next=13,k((0,u.m$)());case 13:if(x(""),b(""),!g){e.next=20;break}return f().fire({icon:"error",position:"top-center",title:"Error!",text:"".concat(g),showConfirmButton:!1,timer:2e3}),e.abrupt("return");case 20:f().fire({icon:"success",position:"top-center",title:"Success!",text:"".concat(d," has been successfully added!"),showConfirmButton:!1,timer:2e3});case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.NZ,{children:"Add contact"}),(0,m.jsxs)(i.l0,{onSubmit:w,autoComplete:"off",children:[(0,m.jsxs)(i.lX,{children:["Name",(0,m.jsx)(i.II,{type:"text",name:"name",value:d,onChange:Z,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,m.jsxs)(i.lX,{children:["Number",(0,m.jsx)(i.II,{type:"tel",name:"number",value:j,onChange:Z,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,m.jsx)(i.Mg,{type:"submit",disabled:!d||!j,children:"Add contact"})]})]})}var g=document.querySelector("#modal-root");function k(e){var t=e.onClose;(0,h.useEffect)((function(){return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}));var n=function(e){"Escape"===e.code&&t()};return(0,b.createPortal)((0,m.jsx)(i.C6,{onClick:function(e){e.currentTarget===e.target&&t()},children:(0,m.jsxs)(i.Pz,{children:[(0,m.jsx)(i.x8,{onClick:function(){return t()}}),(0,m.jsx)(C,{onClose:t})]})}),g)}var Z=n(8439),w=n(3768),y=function(){var e=(0,h.useState)(!1),t=(0,r.Z)(e,2),n=t[0],a=t[1],o=function(){a(!n)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(i.FS,{children:[(0,m.jsx)(i.NZ,{children:"Contacts"}),(0,m.jsx)(w.Z,{title:"Add contact",children:(0,m.jsx)(Z.Z,{fontSize:"large","aria-label":"Add contact",onClick:o,sx:{fill:"rgba(66, 137, 254, 255)"}})})]}),(0,m.jsx)(j,{}),(0,m.jsx)(p,{}),n&&(0,m.jsx)(k,{onClose:o})]})}}}]);
//# sourceMappingURL=192.db5af3c4.chunk.js.map